<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PeanutButter: PeanutButter.ServiceShell.Shell Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PeanutButter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classPeanutButter_1_1ServiceShell_1_1Shell.html','','classPeanutButter_1_1ServiceShell_1_1Shell-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PeanutButter.ServiceShell.Shell Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PeanutButter.ServiceShell.Shell:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classPeanutButter_1_1ServiceShell_1_1Shell.png" usemap="#PeanutButter_2EServiceShell_2EShell_map" alt=""/>
  <map id="PeanutButter_2EServiceShell_2EShell_map" name="PeanutButter_2EServiceShell_2EShell_map">
<area href="interfacePeanutButter_1_1ServiceShell_1_1ISimpleLogger.html" title="Describes the contract for a very simple logging service." alt="PeanutButter.ServiceShell.ISimpleLogger" shape="rect" coords="254,0,498,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:VersionInfo" id="r_VersionInfo"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPeanutButter_1_1ServiceShell_1_1Shell_1_1VersionInfo.html">VersionInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides basic version information.  <a href="classPeanutButter_1_1ServiceShell_1_1Shell_1_1VersionInfo.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a221af61484a1f9ec857a8f238ce76fff" id="r_a221af61484a1f9ec857a8f238ce76fff"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a221af61484a1f9ec857a8f238ce76fff">Log</a> (string status)</td></tr>
<tr class="memdesc:a221af61484a1f9ec857a8f238ce76fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a string, as INFO.  <br /></td></tr>
<tr class="memitem:ad51160e3a133784e042a491b5eee9b29" id="r_ad51160e3a133784e042a491b5eee9b29"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad51160e3a133784e042a491b5eee9b29">LogDebug</a> (string message)</td></tr>
<tr class="memdesc:ad51160e3a133784e042a491b5eee9b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a debug message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
  <br /></td></tr>
<tr class="memitem:a61eed58c55c0d16f2200db955f70ab87" id="r_a61eed58c55c0d16f2200db955f70ab87"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61eed58c55c0d16f2200db955f70ab87">LogInfo</a> (string message)</td></tr>
<tr class="memdesc:a61eed58c55c0d16f2200db955f70ab87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log an info message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
  <br /></td></tr>
<tr class="memitem:a3bcf77b0f8f204931336f5865290bfbd" id="r_a3bcf77b0f8f204931336f5865290bfbd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bcf77b0f8f204931336f5865290bfbd">LogWarning</a> (string message)</td></tr>
<tr class="memdesc:a3bcf77b0f8f204931336f5865290bfbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a warning message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
  <br /></td></tr>
<tr class="memitem:aad93a99edf581208f7c2be89cfbe35b3" id="r_aad93a99edf581208f7c2be89cfbe35b3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad93a99edf581208f7c2be89cfbe35b3">LogFatal</a> (string message)</td></tr>
<tr class="memdesc:aad93a99edf581208f7c2be89cfbe35b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a fatal message - service should probably quit.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
  <br /></td></tr>
<tr class="memitem:a8ea08c1dfc516c9cdcd0c1da6d1698b5" id="r_a8ea08c1dfc516c9cdcd0c1da6d1698b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ea08c1dfc516c9cdcd0c1da6d1698b5">WaitForIntervalFrom</a> (DateTime lastRun)</td></tr>
<tr class="memdesc:a8ea08c1dfc516c9cdcd0c1da6d1698b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the next Interval should be fired, taking into account the run-time of the last round.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a47b3de025f27cb00e0ca488de7aa5535" id="r_a47b3de025f27cb00e0ca488de7aa5535"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47b3de025f27cb00e0ca488de7aa5535">RunMain&lt; T &gt;</a> (string[] args)</td></tr>
<tr class="memdesc:a47b3de025f27cb00e0ca488de7aa5535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the service via the given arguments, ie either to affect a required service control operation, or with no arguments, as per the SCM.  <br /></td></tr>
<tr class="memitem:aca760e1f2d8adcf56e42645943bbf4a5" id="r_aca760e1f2d8adcf56e42645943bbf4a5"><td class="memItemLeft" align="right" valign="top"><a id="aca760e1f2d8adcf56e42645943bbf4a5" name="aca760e1f2d8adcf56e42645943bbf4a5"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>StartTesting</b> ()</td></tr>
<tr class="memdesc:aca760e1f2d8adcf56e42645943bbf4a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testability, this sets the service into "test mode". <br /></td></tr>
<tr class="memitem:ab1a76bbde1fddc2f9c87268624d5fef2" id="r_ab1a76bbde1fddc2f9c87268624d5fef2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1a76bbde1fddc2f9c87268624d5fef2">ShouldHaveRunMainFor&lt; T &gt;</a> (string[] args)</td></tr>
<tr class="memdesc:ab1a76bbde1fddc2f9c87268624d5fef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the main entry point was run.  <br /></td></tr>
<tr class="memitem:a41172332902e64028cbc280a7f2fe3e3" id="r_a41172332902e64028cbc280a7f2fe3e3"><td class="memItemLeft" align="right" valign="top"><a id="a41172332902e64028cbc280a7f2fe3e3" name="a41172332902e64028cbc280a7f2fe3e3"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>ResetTestMode</b> ()</td></tr>
<tr class="memdesc:a41172332902e64028cbc280a7f2fe3e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the test mode (this is code to enable testing) <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a789f1003f9ac1e6e585c4a367925a6e2" id="r_a789f1003f9ac1e6e585c4a367925a6e2"><td class="memItemLeft" align="right" valign="top"><a id="a789f1003f9ac1e6e585c4a367925a6e2" name="a789f1003f9ac1e6e585c4a367925a6e2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Shell</b> ()</td></tr>
<tr class="memitem:abad36e1dd302d9911aab3438bc4e3f04" id="r_abad36e1dd302d9911aab3438bc4e3f04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abad36e1dd302d9911aab3438bc4e3f04">RunOnce</a> ()</td></tr>
<tr class="memdesc:abad36e1dd302d9911aab3438bc4e3f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the main logic once. You MUST override this in your derived service.  <br /></td></tr>
<tr class="memitem:a7dfec75d19b776c37525d8f7a651270c" id="r_a7dfec75d19b776c37525d8f7a651270c"><td class="memItemLeft" align="right" valign="top"><a id="a7dfec75d19b776c37525d8f7a651270c" name="a7dfec75d19b776c37525d8f7a651270c"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>OnStart</b> (string[] args)</td></tr>
<tr class="memitem:a6aaea12e1d273b997ee78ac74bd43df6" id="r_a6aaea12e1d273b997ee78ac74bd43df6"><td class="memItemLeft" align="right" valign="top"><a id="a6aaea12e1d273b997ee78ac74bd43df6" name="a6aaea12e1d273b997ee78ac74bd43df6"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>OnStop</b> ()</td></tr>
<tr class="memitem:ac8e092ff952609fed74d5be192a44be9" id="r_ac8e092ff952609fed74d5be192a44be9"><td class="memItemLeft" align="right" valign="top"><a id="ac8e092ff952609fed74d5be192a44be9" name="ac8e092ff952609fed74d5be192a44be9"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>OnPause</b> ()</td></tr>
<tr class="memitem:a07b4ed64edffc68c71b7c1e5c18696bb" id="r_a07b4ed64edffc68c71b7c1e5c18696bb"><td class="memItemLeft" align="right" valign="top"><a id="a07b4ed64edffc68c71b7c1e5c18696bb" name="a07b4ed64edffc68c71b7c1e5c18696bb"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>OnShutdown</b> ()</td></tr>
<tr class="memitem:ae165f1864ffc73ba37e4fa5dc398d9bb" id="r_ae165f1864ffc73ba37e4fa5dc398d9bb"><td class="memItemLeft" align="right" valign="top"><a id="ae165f1864ffc73ba37e4fa5dc398d9bb" name="ae165f1864ffc73ba37e4fa5dc398d9bb"></a>
override void&#160;</td><td class="memItemRight" valign="bottom"><b>OnContinue</b> ()</td></tr>
<tr class="memitem:a3e8a8ef027e8887a2b1edb938d74e8ca" id="r_a3e8a8ef027e8887a2b1edb938d74e8ca"><td class="memItemLeft" align="right" valign="top"><a id="a3e8a8ef027e8887a2b1edb938d74e8ca" name="a3e8a8ef027e8887a2b1edb938d74e8ca"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Run</b> ()</td></tr>
<tr class="memdesc:a3e8a8ef027e8887a2b1edb938d74e8ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the main loop once. <br /></td></tr>
<tr class="memitem:a6fff679d0f1f52eb0378cdd0263dab6a" id="r_a6fff679d0f1f52eb0378cdd0263dab6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fff679d0f1f52eb0378cdd0263dab6a">Stopped</a> ()</td></tr>
<tr class="memdesc:a6fff679d0f1f52eb0378cdd0263dab6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the service has been stopped. Will block whilst the service is paused.  <br /></td></tr>
<tr class="memitem:aecafb36dca89efd96d52a3c673ef7ca5" id="r_aecafb36dca89efd96d52a3c673ef7ca5"><td class="memItemLeft" align="right" valign="top">virtual ILog&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecafb36dca89efd96d52a3c673ef7ca5">GetLogger</a> ()</td></tr>
<tr class="memdesc:aecafb36dca89efd96d52a3c673ef7ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide the ILog logger.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-properties" class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a3d515ae89753c5e8968a99379d01f4ef" id="r_a3d515ae89753c5e8968a99379d01f4ef"><td class="memItemLeft" align="right" valign="top"><a id="a3d515ae89753c5e8968a99379d01f4ef" name="a3d515ae89753c5e8968a99379d01f4ef"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Interval</b><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a3d515ae89753c5e8968a99379d01f4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>max</em> interval, in seconds, between calls to your implementation of RunOnce Note that this means that if your RunOnce takes longer than this to run, the service will essentially loop your RunOnce non-stop. Only one RunOnce iteration is done at at a time (ie no concurrency) <br /></td></tr>
<tr class="memitem:a5f1ea76b2afdcda31774d8d685e6cfe5" id="r_a5f1ea76b2afdcda31774d8d685e6cfe5"><td class="memItemLeft" align="right" valign="top"><a id="a5f1ea76b2afdcda31774d8d685e6cfe5" name="a5f1ea76b2afdcda31774d8d685e6cfe5"></a>
<a class="el" href="classPeanutButter_1_1ServiceShell_1_1Shell_1_1VersionInfo.html">VersionInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Version</b><code> [get]</code></td></tr>
<tr class="memdesc:a5f1ea76b2afdcda31774d8d685e6cfe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current version of the service. <br /></td></tr>
<tr class="memitem:abf361b3538a77d5c184d3f5f53d98ae2" id="r_abf361b3538a77d5c184d3f5f53d98ae2"><td class="memItemLeft" align="right" valign="top"><a id="abf361b3538a77d5c184d3f5f53d98ae2" name="abf361b3538a77d5c184d3f5f53d98ae2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>RunningOnceFromCLI</b><code> [get, set]</code></td></tr>
<tr class="memdesc:abf361b3538a77d5c184d3f5f53d98ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not the service was invoked from the commandline (as opposed to being invoked via the SCM) <br /></td></tr>
<tr class="memitem:a8da9dd34ca9cdea4b11249377ab26a6b" id="r_a8da9dd34ca9cdea4b11249377ab26a6b"><td class="memItemLeft" align="right" valign="top"><a id="a8da9dd34ca9cdea4b11249377ab26a6b" name="a8da9dd34ca9cdea4b11249377ab26a6b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DisplayName</b><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a8da9dd34ca9cdea4b11249377ab26a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name displayed for this service in the SCM MMI snap-in (services.msc) <br /></td></tr>
<tr class="memitem:ab57322936538f34b8242e730eea0c50e" id="r_ab57322936538f34b8242e730eea0c50e"><td class="memItemLeft" align="right" valign="top"><a id="ab57322936538f34b8242e730eea0c50e" name="ab57322936538f34b8242e730eea0c50e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>CopyrightInformation</b><code> [get, set]</code></td></tr>
<tr class="memdesc:ab57322936538f34b8242e730eea0c50e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copyright information for this service. <br /></td></tr>
<tr class="memitem:a0b516bd90c2df6e07e02be2ad010ecfe" id="r_a0b516bd90c2df6e07e02be2ad010ecfe"><td class="memItemLeft" align="right" valign="top">new string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b516bd90c2df6e07e02be2ad010ecfe">ServiceName</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a0b516bd90c2df6e07e02be2ad010ecfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The short name for the service, typically used to control it via the commandline. This is <em>not</em> the name displayed in services.msc.  <br /></td></tr>
<tr class="memitem:afe81ee97fdf8adb374ada61c19abdb25" id="r_afe81ee97fdf8adb374ada61c19abdb25"><td class="memItemLeft" align="right" valign="top"><a id="afe81ee97fdf8adb374ada61c19abdb25" name="afe81ee97fdf8adb374ada61c19abdb25"></a>
<a class="el" href="namespacePeanutButter_1_1WindowsServiceManagement.html#a9b8226954f7304c39f51a0ce7dff3667">ServiceState</a>&#160;</td><td class="memItemRight" valign="bottom"><b>State</b><code> [get]</code></td></tr>
<tr class="memdesc:afe81ee97fdf8adb374ada61c19abdb25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reflects the current state of the service. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"></div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="aecafb36dca89efd96d52a3c673ef7ca5" name="aecafb36dca89efd96d52a3c673ef7ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecafb36dca89efd96d52a3c673ef7ca5">&#9670;&#160;</a></span>GetLogger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ILog PeanutButter.ServiceShell.Shell.GetLogger </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide the ILog logger. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a221af61484a1f9ec857a8f238ce76fff" name="a221af61484a1f9ec857a8f238ce76fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221af61484a1f9ec857a8f238ce76fff">&#9670;&#160;</a></span>Log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PeanutButter.ServiceShell.Shell.Log </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>status</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a string, as INFO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad51160e3a133784e042a491b5eee9b29" name="ad51160e3a133784e042a491b5eee9b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51160e3a133784e042a491b5eee9b29">&#9670;&#160;</a></span>LogDebug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PeanutButter.ServiceShell.Shell.LogDebug </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a debug message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Implements <a class="el" href="interfacePeanutButter_1_1ServiceShell_1_1ISimpleLogger.html#ae696f48ffd89ede1e3b6843c71af19d4">PeanutButter.ServiceShell.ISimpleLogger</a>.</p>

</div>
</div>
<a id="aad93a99edf581208f7c2be89cfbe35b3" name="aad93a99edf581208f7c2be89cfbe35b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad93a99edf581208f7c2be89cfbe35b3">&#9670;&#160;</a></span>LogFatal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PeanutButter.ServiceShell.Shell.LogFatal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a fatal message - service should probably quit.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Implements <a class="el" href="interfacePeanutButter_1_1ServiceShell_1_1ISimpleLogger.html#a5fd302af9d211b92a458fa1f05446b2f">PeanutButter.ServiceShell.ISimpleLogger</a>.</p>

</div>
</div>
<a id="a61eed58c55c0d16f2200db955f70ab87" name="a61eed58c55c0d16f2200db955f70ab87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61eed58c55c0d16f2200db955f70ab87">&#9670;&#160;</a></span>LogInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PeanutButter.ServiceShell.Shell.LogInfo </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log an info message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Implements <a class="el" href="interfacePeanutButter_1_1ServiceShell_1_1ISimpleLogger.html#af0a3d004f5601079b2529f79c5522852">PeanutButter.ServiceShell.ISimpleLogger</a>.</p>

</div>
</div>
<a id="a3bcf77b0f8f204931336f5865290bfbd" name="a3bcf77b0f8f204931336f5865290bfbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bcf77b0f8f204931336f5865290bfbd">&#9670;&#160;</a></span>LogWarning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PeanutButter.ServiceShell.Shell.LogWarning </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a warning message.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Implements <a class="el" href="interfacePeanutButter_1_1ServiceShell_1_1ISimpleLogger.html#a127fcc2ad2c2cafd3e4cccbee47a231a">PeanutButter.ServiceShell.ISimpleLogger</a>.</p>

</div>
</div>
<a id="a47b3de025f27cb00e0ca488de7aa5535" name="a47b3de025f27cb00e0ca488de7aa5535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b3de025f27cb00e0ca488de7aa5535">&#9670;&#160;</a></span>RunMain&lt; T &gt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int PeanutButter.ServiceShell.Shell.RunMain&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">string[]</td>          <td class="paramname"><span class="paramname"><em>args</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the service via the given arguments, ie either to affect a required service control operation, or with no arguments, as per the SCM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>Shell</em></td><td>&#160;</td></tr>
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>new()</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<a id="abad36e1dd302d9911aab3438bc4e3f04" name="abad36e1dd302d9911aab3438bc4e3f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad36e1dd302d9911aab3438bc4e3f04">&#9670;&#160;</a></span>RunOnce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PeanutButter.ServiceShell.Shell.RunOnce </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel abstract">abstract</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the main logic once. You MUST override this in your derived service. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NotImplementedException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1a76bbde1fddc2f9c87268624d5fef2" name="ab1a76bbde1fddc2f9c87268624d5fef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a76bbde1fddc2f9c87268624d5fef2">&#9670;&#160;</a></span>ShouldHaveRunMainFor&lt; T &gt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PeanutButter.ServiceShell.Shell.ShouldHaveRunMainFor&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">string[]</td>          <td class="paramname"><span class="paramname"><em>args</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if the main entry point was run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classPeanutButter_1_1ServiceShell_1_1ShellTestFailureException.html" title="Thrown when a test run for the shell didn&#39;t go as planned.">ShellTestFailureException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6fff679d0f1f52eb0378cdd0263dab6a" name="a6fff679d0f1f52eb0378cdd0263dab6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fff679d0f1f52eb0378cdd0263dab6a">&#9670;&#160;</a></span>Stopped()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PeanutButter.ServiceShell.Shell.Stopped </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test if the service has been stopped. Will block whilst the service is paused. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a8ea08c1dfc516c9cdcd0c1da6d1698b5" name="a8ea08c1dfc516c9cdcd0c1da6d1698b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea08c1dfc516c9cdcd0c1da6d1698b5">&#9670;&#160;</a></span>WaitForIntervalFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeanutButter.ServiceShell.Shell.WaitForIntervalFrom </td>
          <td>(</td>
          <td class="paramtype">DateTime</td>          <td class="paramname"><span class="paramname"><em>lastRun</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until the next Interval should be fired, taking into account the run-time of the last round. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lastRun</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a name="doc-property-members" id="doc-property-members"></a><h2 id="header-doc-property-members" class="groupheader">Property Documentation</h2>
<a id="a0b516bd90c2df6e07e02be2ad010ecfe" name="a0b516bd90c2df6e07e02be2ad010ecfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b516bd90c2df6e07e02be2ad010ecfe">&#9670;&#160;</a></span>ServiceName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">new string PeanutButter.ServiceShell.Shell.ServiceName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel get">get</span><span class="mlabel set">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The short name for the service, typically used to control it via the commandline. This is <em>not</em> the name displayed in services.msc. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classPeanutButter_1_1ServiceShell_1_1ServiceUnconfiguredException.html" title="Thrown when a service was not completely configured.">ServiceUnconfiguredException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/Win32Service/PeanutButter.ServiceShell/<b>Shell.cs</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacePeanutButter.html">PeanutButter</a></li><li class="navelem"><a href="namespacePeanutButter_1_1ServiceShell.html">ServiceShell</a></li><li class="navelem"><a href="classPeanutButter_1_1ServiceShell_1_1Shell.html">Shell</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
